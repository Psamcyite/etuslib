{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,sMAAM,UAAU,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAEA;AAHA;AAHA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,sMAAM,UAAU,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAe,IAAI;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,kKAAe,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  FormProvider,\n  useFormContext,\n} from \"react-hook-form\"\n\nimport { cn } from \"../../lib/utils\"\nimport { Label } from \"./label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message) : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AAYA;AACA;AAVA;AADA;AAJA;;;;;;;AAiBA,MAAM,OAAO,8JAAA,CAAA,eAAY;AASzB,MAAM,iCAAmB,sMAAM,aAAa,CAC1C,CAAC;AAGH,MAAM,YAAY,CAGhB,EACA,GAAG,OACkC;IACrC,qBACE,8OAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE,MAAM,MAAM,IAAI;QAAC;kBACnD,cAAA,8OAAC,8JAAA,CAAA,aAAU;YAAE,GAAG,KAAK;;;;;;;;;;;AAG3B;AAEA,MAAM,eAAe;IACnB,MAAM,eAAe,sMAAM,UAAU,CAAC;IACtC,MAAM,cAAc,sMAAM,UAAU,CAAC;IACrC,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,iBAAc,AAAD;IAElD,MAAM,aAAa,cAAc,aAAa,IAAI,EAAE;IAEpD,IAAI,CAAC,cAAc;QACjB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,OAAO;QACL;QACA,MAAM,aAAa,IAAI;QACvB,YAAY,GAAG,GAAG,UAAU,CAAC;QAC7B,mBAAmB,GAAG,GAAG,sBAAsB,CAAC;QAChD,eAAe,GAAG,GAAG,kBAAkB,CAAC;QACxC,GAAG,UAAU;IACf;AACF;AAMA,MAAM,gCAAkB,sMAAM,aAAa,CACzC,CAAC;AAGH,MAAM,yBAAW,sMAAM,UAAU,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,MAAM,KAAK,sMAAM,KAAK;IAEtB,qBACE,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;QAAG;kBACpC,cAAA,8OAAC;YAAI,KAAK;YAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,aAAa;YAAa,GAAG,KAAK;;;;;;;;;;;AAGrE;AACA,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,sMAAM,UAAU,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG;IAE9B,qBACE,8OAAC,0HAAA,CAAA,QAAK;QACJ,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,SAAS,oBAAoB;QAC3C,SAAS;QACR,GAAG,KAAK;;;;;;AAGf;AACA,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,sMAAM,UAAU,CAGlC,CAAC,EAAE,GAAG,OAAO,EAAE;IACf,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,iBAAiB,EAAE,aAAa,EAAE,GAAG;IAEhE,qBACE,8OAAC,gKAAA,CAAA,OAAI;QACH,KAAK;QACL,IAAI;QACJ,oBACE,CAAC,QACG,GAAG,mBAAmB,GACtB,GAAG,kBAAkB,CAAC,EAAE,eAAe;QAE7C,gBAAc,CAAC,CAAC;QACf,GAAG,KAAK;;;;;;AAGf;AACA,YAAY,WAAW,GAAG;AAE1B,MAAM,gCAAkB,sMAAM,UAAU,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,MAAM,EAAE,iBAAiB,EAAE,GAAG;IAE9B,qBACE,8OAAC;QACC,KAAK;QACL,IAAI;QACJ,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,uCAAuC;QACpD,GAAG,KAAK;;;;;;AAGf;AACA,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,sMAAM,UAAU,CAGlC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACpC,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG;IACjC,MAAM,OAAO,QAAQ,OAAO,OAAO,WAAW;IAE9C,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,IAAI;QACJ,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8CAA8C;QAC3D,GAAG,KAAK;kBAER;;;;;;AAGP;AACA,YAAY,WAAW,GAAG"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,sMAAM,UAAU,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/constants/index.ts"],"sourcesContent":["export const navigationLinks = [\n  {\n    href: \"/library\",\n    label: \"Library\",\n  },\n\n  {\n    img: \"/icons/user.svg\",\n    selectedImg: \"/icons/user-fill.svg\",\n    href: \"/my-profile\",\n    label: \"My Profile\",\n  },\n];\n\nexport const adminSideBarLinks = [\n  {\n    img: \"/icons/admin/home.svg\",\n    route: \"/admin\",\n    text: \"Home\",\n  },\n  {\n    img: \"/icons/admin/users.svg\",\n    route: \"/admin/users\",\n    text: \"All Users\",\n  },\n  {\n    img: \"/icons/admin/book.svg\",\n    route: \"/admin/books\",\n    text: \"All Books\",\n  },\n  {\n    img: \"/icons/admin/bookmark.svg\",\n    route: \"/admin/book-requests\",\n    text: \"Borrow Requests\",\n  },\n  {\n    img: \"/icons/admin/user.svg\",\n    route: \"/admin/account-requests\",\n    text: \"Account Requests\",\n  },\n];\n\nexport const FIELD_NAMES = {\n  fullName: \"Full name\",\n  email: \"Email\",\n  universityId: \"University ID Number\",\n  password: \"Password\",\n  universityCard: \"Upload University ID Card\",\n};\n\nexport const FIELD_TYPES = {\n  fullName: \"text\",\n  email: \"email\",\n  universityId: \"number\",\n  password: \"password\",\n};\n\nexport const sampleBooks = [\n  {\n    id: 1,\n    title: \"The Midnight Library\",\n    author: \"Matt Haig\",\n    genre: \"Fantasy / Fiction\",\n    rating: 4.6,\n    total_copies: 20,\n    available_copies: 10,\n    description:\n      \"A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death.\",\n    color: \"#1c1f40\",\n    cover: \"https://m.media-amazon.com/images/I/81J6APjwxlL.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death. A dazzling novel about all the choices that go into a life well lived, The Midnight Library tells the story of Nora Seed as she finds herself between life and death.\",\n  },\n  {\n    id: 2,\n    title: \"Atomic Habits\",\n    author: \"James Clear\",\n    genre: \"Self-Help / Productivity\",\n    rating: 4.9,\n    total_copies: 99,\n    available_copies: 50,\n    description:\n      \"A revolutionary guide to making good habits, breaking bad ones, and getting 1% better every day.\",\n    color: \"#fffdf6\",\n    cover: \"https://m.media-amazon.com/images/I/81F90H7hnML.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"A revolutionary guide to making good habits, breaking bad ones, and getting 1% better every day.\",\n  },\n  {\n    id: 3,\n    title: \"You Don't Know JS: Scope & Closures\",\n    author: \"Kyle Simpson\",\n    genre: \"Computer Science / JavaScript\",\n    rating: 4.7,\n    total_copies: 9,\n    available_copies: 5,\n    description:\n      \"An essential guide to understanding the core mechanisms of JavaScript, focusing on scope and closures.\",\n    color: \"#f8e036\",\n    cover:\n      \"https://m.media-amazon.com/images/I/7186YfjgHHL._AC_UF1000,1000_QL80_.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"An essential guide to understanding the core mechanisms of JavaScript, focusing on scope and closures.\",\n  },\n  {\n    id: 4,\n    title: \"The Alchemist\",\n    author: \"Paulo Coelho\",\n    genre: \"Philosophy / Adventure\",\n    rating: 4.5,\n    total_copies: 78,\n    available_copies: 50,\n    description:\n      \"A magical tale of Santiago, an Andalusian shepherd boy, who embarks on a journey to find a worldly treasure.\",\n    color: \"#ed6322\",\n    cover:\n      \"https://m.media-amazon.com/images/I/61HAE8zahLL._AC_UF1000,1000_QL80_.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"A magical tale of Santiago, an Andalusian shepherd boy, who embarks on a journey to find a worldly treasure.\",\n  },\n  {\n    id: 5,\n    title: \"Deep Work\",\n    author: \"Cal Newport\",\n    genre: \"Self-Help / Productivity\",\n    rating: 4.7,\n    total_copies: 23,\n    available_copies: 23,\n    description:\n      \"Rules for focused success in a distracted world, teaching how to cultivate deep focus to achieve peak productivity.\",\n    color: \"#ffffff\",\n    cover: \"https://m.media-amazon.com/images/I/81JJ7fyyKyS.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"Rules for focused success in a distracted world, teaching how to cultivate deep focus to achieve peak productivity.\",\n  },\n  {\n    id: 6,\n    title: \"Clean Code\",\n    author: \"Robert C. Martin\",\n    genre: \"Computer Science / Programming\",\n    rating: 4.8,\n    total_copies: 56,\n    available_copies: 56,\n    description:\n      \"A handbook of agile software craftsmanship, offering best practices and principles for writing clean and maintainable code.\",\n    color: \"#080c0d\",\n    cover:\n      \"https://m.media-amazon.com/images/I/71T7aD3EOTL._UF1000,1000_QL80_.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"A handbook of agile software craftsmanship, offering best practices and principles for writing clean and maintainable code.\",\n  },\n  {\n    id: 7,\n    title: \"The Pragmatic Programmer\",\n    author: \"Andrew Hunt, David Thomas\",\n    genre: \"Computer Science / Programming\",\n    rating: 4.8,\n    total_copies: 25,\n    available_copies: 3,\n    description:\n      \"A timeless guide for developers to hone their skills and improve their programming practices.\",\n    color: \"#100f15\",\n    cover:\n      \"https://m.media-amazon.com/images/I/71VStSjZmpL._AC_UF1000,1000_QL80_.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"A timeless guide for developers to hone their skills and improve their programming practices.\",\n  },\n  {\n    id: 8,\n    title: \"The Psychology of Money\",\n    author: \"Morgan Housel\",\n    genre: \"Finance / Self-Help\",\n    rating: 4.8,\n    total_copies: 10,\n    available_copies: 5,\n    description:\n      \"Morgan Housel explores the unique behaviors and mindsets that shape financial success and decision-making.\",\n    color: \"#ffffff\",\n    cover:\n      \"https://m.media-amazon.com/images/I/81Dky+tD+pL._AC_UF1000,1000_QL80_.jpg\",\n    video: \"/sample-video.mp4?updatedAt=1722593504152\",\n    summary:\n      \"Morgan Housel explores the unique behaviors and mindsets that shape financial success and decision-making.\",\n  },\n];\n"],"names":[],"mappings":";;;;;;;AAAO,MAAM,kBAAkB;IAC7B;QACE,MAAM;QACN,OAAO;IACT;IAEA;QACE,KAAK;QACL,aAAa;QACb,MAAM;QACN,OAAO;IACT;CACD;AAEM,MAAM,oBAAoB;IAC/B;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;CACD;AAEM,MAAM,cAAc;IACzB,UAAU;IACV,OAAO;IACP,cAAc;IACd,UAAU;IACV,gBAAgB;AAClB;AAEO,MAAM,cAAc;IACzB,UAAU;IACV,OAAO;IACP,cAAc;IACd,UAAU;AACZ;AAEO,MAAM,cAAc;IACzB;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OAAO;QACP,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OAAO;QACP,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OACE;QACF,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OACE;QACF,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OAAO;QACP,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OACE;QACF,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OACE;QACF,OAAO;QACP,SACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,cAAc;QACd,kBAAkB;QAClB,aACE;QACF,OAAO;QACP,OACE;QACF,OAAO;QACP,SACE;IACJ;CACD"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/lib/config.ts"],"sourcesContent":["const config = {\n  env: {\n    apiEndpoint: process.env.NEXT_PUBLIC_API_ENDPOINT!,\n    prodApiEndpoint: process.env.NEXT_PUBLIC_PROD_API_ENDPOINT!,\n    imagekit: {\n      publicKey: process.env.NEXT_PUBLIC_IMAGEKIT_PUBLIC_KEY!,\n      urlEndpoint: process.env.NEXT_PUBLIC_IMAGEKIT_URL_ENDPOINT!,\n      privateKey: process.env.IMAGEKIT_PRIVATE_KEY!,\n    },\n    databaseUrl: process.env.DATABASE_URL!,\n    upstash: {\n      redisUrl: process.env.UPSTASH_REDIS_URL!,\n      redisToken: process.env.UPSTASH_REDIS_TOKEN!,\n      qstashUrl: process.env.QSTASH_URL!,\n      qstashToken: process.env.QSTASH_TOKEN!,\n    },\n    resendToken: process.env.RESEND_TOKEN!,\n  },\n};\n\nexport default config;\n"],"names":[],"mappings":";;;AAAA,MAAM,SAAS;IACb,KAAK;QACH,WAAW;QACX,eAAe;QACf,UAAU;YACR,SAAS;YACT,WAAW;YACX,YAAY,QAAQ,GAAG,CAAC,oBAAoB;QAC9C;QACA,aAAa,QAAQ,GAAG,CAAC,YAAY;QACrC,SAAS;YACP,UAAU,QAAQ,GAAG,CAAC,iBAAiB;YACvC,YAAY,QAAQ,GAAG,CAAC,mBAAmB;YAC3C,WAAW,QAAQ,GAAG,CAAC,UAAU;YACjC,aAAa,QAAQ,GAAG,CAAC,YAAY;QACvC;QACA,aAAa,QAAQ,GAAG,CAAC,YAAY;IACvC;AACF;uCAEe"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"../components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/FileUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { IKImage, ImageKitProvider, IKUpload, IKVideo } from \"imagekitio-next\";\nimport config from \"../lib/config\";\nimport ImageKit from \"imagekit\";\nimport { useRef, useState } from \"react\";\nimport Image from \"next/image\";\nimport { toast } from \"../hooks/use-toast\";\nimport { cn } from \"../lib/utils\";\n\nconst {\n  env: {\n    imagekit: { publicKey, urlEndpoint },\n  },\n} = config;\n\nconst authenticator = async () => {\n  try {\n    const response = await fetch(`${config.env.apiEndpoint}/api/auth/imagekit`);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n\n      throw new Error(\n        `Request failed with status ${response.status}: ${errorText}`,\n      );\n    }\n\n    const data = await response.json();\n\n    const { signature, expire, token } = data;\n\n    return { token, expire, signature };\n  } catch (error: any) {\n    throw new Error(`Authentication request failed: ${error.message}`);\n  }\n};\n\ninterface Props {\n  type: \"image\" | \"video\";\n  accept: string;\n  placeholder: string;\n  folder: string;\n  variant: \"dark\" | \"light\";\n  onFileChange: (filePath: string) => void;\n  value?: string;\n}\n\nconst FileUpload = ({\n  type,\n  accept,\n  placeholder,\n  folder,\n  variant,\n  onFileChange,\n  value,\n}: Props) => {\n  const ikUploadRef = useRef(null);\n  const [file, setFile] = useState<{ filePath: string | null }>({\n    filePath: value ?? null,\n  });\n  const [progress, setProgress] = useState(0);\n\n  const styles = {\n    button:\n      variant === \"dark\"\n        ? \"bg-dark-300\"\n        : \"bg-light-600 border-gray-100 border\",\n    placeholder: variant === \"dark\" ? \"text-light-100\" : \"text-slate-500\",\n    text: variant === \"dark\" ? \"text-light-100\" : \"text-dark-400\",\n  };\n\n  const onError = (error: any) => {\n    console.log(error);\n\n    toast({\n      title: `${type} upload failed`,\n      description: `Your ${type} could not be uploaded. Please try again.`,\n      variant: \"destructive\",\n    });\n  };\n\n  const onSuccess = (res: any) => {\n    setFile(res);\n    onFileChange(res.filePath);\n\n    toast({\n      title: `${type} uploaded successfully`,\n      description: `${res.filePath} uploaded successfully!`,\n    });\n  };\n\n  const onValidate = (file: File) => {\n    if (type === \"image\") {\n      if (file.size > 20 * 1024 * 1024) {\n        toast({\n          title: \"File size too large\",\n          description: \"Please upload a file that is less than 20MB in size\",\n          variant: \"destructive\",\n        });\n\n        return false;\n      }\n    } else if (type === \"video\") {\n      if (file.size > 50 * 1024 * 1024) {\n        toast({\n          title: \"File size too large\",\n          description: \"Please upload a file that is less than 50MB in size\",\n          variant: \"destructive\",\n        });\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return (\n    <ImageKitProvider\n      publicKey={publicKey}\n      urlEndpoint={urlEndpoint}\n      authenticator={authenticator}\n    >\n      <IKUpload\n        ref={ikUploadRef}\n        onError={onError}\n        onSuccess={onSuccess}\n        useUniqueFileName={true}\n        validateFile={onValidate}\n        onUploadStart={() => setProgress(0)}\n        onUploadProgress={({ loaded, total }) => {\n          const percent = Math.round((loaded / total) * 100);\n\n          setProgress(percent);\n        }}\n        folder={folder}\n        accept={accept}\n        className=\"hidden\"\n      />\n\n      <button\n        className={cn(\"upload-btn\", styles.button)}\n        onClick={(e) => {\n          e.preventDefault();\n\n          if (ikUploadRef.current) {\n            // @ts-ignore\n            ikUploadRef.current?.click();\n          }\n        }}\n      >\n        <Image\n          src=\"/icons/upload.svg\"\n          alt=\"upload-icon\"\n          width={20}\n          height={20}\n          className=\"object-contain\"\n        />\n\n        <p className={cn(\"text-base\", styles.placeholder)}>{placeholder}</p>\n\n        {file && (\n          <p className={cn(\"upload-filename\", styles.text)}>{file.filePath}</p>\n        )}\n      </button>\n\n      {progress > 0 && progress !== 100 && (\n        <div className=\"w-full rounded-full bg-green-200\">\n          <div className=\"progress\" style={{ width: `${progress}%` }}>\n            {progress}%\n          </div>\n        </div>\n      )}\n\n      {file &&\n        (type === \"image\" ? (\n          <IKImage\n            alt={file.filePath || \"\"}\n            path={file.filePath || undefined}\n            width={500}\n            height={300}\n          />\n        ) : type === \"video\" ? (\n          <IKVideo\n            path={file.filePath || undefined}\n            controls={true}\n            className=\"h-96 w-full rounded-xl\"\n          />\n        ) : null)}\n    </ImageKitProvider>\n  );\n};\n\nexport default FileUpload;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/components/AuthForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport {\n  DefaultValues,\n  FieldValues,\n  Path,\n  SubmitHandler,\n  useForm,\n  UseFormReturn,\n} from \"react-hook-form\";\nimport { ZodType } from \"zod\";\n\nimport { Button } from \"../components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"../components/ui/form\";\nimport { Input } from \"../components/ui/input\";\nimport Link from \"next/link\";\nimport { FIELD_NAMES, FIELD_TYPES } from \"../constants\";\nimport FileUpload from \"../components/FileUpload\";\nimport { toast } from \"../hooks/use-toast\";\nimport { useRouter } from \"next/navigation\";\n\ninterface Props<T extends FieldValues> {\n  schema: ZodType<T>;\n  defaultValues: T;\n  onSubmit: (data: T) => Promise<{ success: boolean; error?: string }>;\n  type: \"SIGN_IN\" | \"SIGN_UP\";\n}\n\nconst AuthForm = <T extends FieldValues>({\n  type,\n  schema,\n  defaultValues,\n  onSubmit,\n}: Props<T>) => {\n  const router = useRouter();\n\n  const isSignIn = type === \"SIGN_IN\";\n\n  const form: UseFormReturn<T> = useForm({\n    resolver: zodResolver(schema),\n    defaultValues: defaultValues as DefaultValues<T>,\n  });\n\n  const handleSubmit: SubmitHandler<T> = async (data) => {\n    const result = await onSubmit(data);\n\n    if (result.success) {\n      toast({\n        title: \"Success\",\n        description: isSignIn\n          ? \"You have successfully signed in.\"\n          : \"You have successfully signed up.\",\n      });\n\n      router.push(\"/\");\n    } else {\n      toast({\n        title: `Error ${isSignIn ? \"signing in\" : \"signing up\"}`,\n        description: result.error ?? \"An error occurred.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <h1 className=\"text-2xl font-semibold text-white\">\n        {isSignIn ? \"Welcome back to EtusLib\" : \"Create your library account\"}\n      </h1>\n      <p className=\"text-light-100\">\n        {isSignIn\n          ? \"Access the vast collection of resources, and stay updated\"\n          : \"Please complete all fields and upload a valid university ID to gain access to the library\"}\n      </p>\n      <Form {...form}>\n        <form\n          onSubmit={form.handleSubmit(handleSubmit)}\n          className=\"w-full space-y-6\"\n        >\n          {Object.keys(defaultValues).map((field) => (\n            <FormField\n              key={field}\n              control={form.control}\n              name={field as Path<T>}\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"capitalize\">\n                    {FIELD_NAMES[field.name as keyof typeof FIELD_NAMES]}\n                  </FormLabel>\n                  <FormControl>\n                    {field.name === \"universityCard\" ? (\n                      <FileUpload\n                        type=\"image\"\n                        accept=\"image/*\"\n                        placeholder=\"Upload your ID\"\n                        folder=\"ids\"\n                        variant=\"dark\"\n                        onFileChange={field.onChange}\n                      />\n                    ) : (\n                      <Input\n                        required\n                        type={\n                          FIELD_TYPES[field.name as keyof typeof FIELD_TYPES]\n                        }\n                        {...field}\n                        className=\"form-input\"\n                      />\n                    )}\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          ))}\n\n          <Button type=\"submit\" className=\"form-btn\">\n            {isSignIn ? \"Sign In\" : \"Sign Up\"}\n          </Button>\n        </form>\n      </Form>\n\n      <p className=\"text-center text-base font-medium\">\n        {isSignIn ? \"New to EtusLib? \" : \"Already have an account? \"}\n\n        <Link\n          href={isSignIn ? \"/sign-up\" : \"/sign-in\"}\n          className=\"font-bold text-primary\"\n        >\n          {isSignIn ? \"Create an account\" : \"Sign in\"}\n        </Link>\n      </p>\n    </div>\n  );\n};\nexport default AuthForm;\n"],"names":[],"mappings":";;;;AAEA;AAWA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAHA;;;;;;;;;;;;AAoCA,MAAM,WAAW,CAAwB,EACvC,IAAI,EACJ,MAAM,EACN,aAAa,EACb,QAAQ,EACC;IACT,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,WAAW,SAAS;IAE1B,MAAM,OAAyB,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE;QACrC,UAAU,CAAA,GAAA,8JAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;IACjB;IAEA,MAAM,eAAiC,OAAO;QAC5C,MAAM,SAAS,MAAM,SAAS;QAE9B,IAAI,OAAO,OAAO,EAAE;YAClB,CAAA,GAAA,qHAAA,CAAA,QAAK,AAAD,EAAE;gBACJ,OAAO;gBACP,aAAa,WACT,qCACA;YACN;YAEA,OAAO,IAAI,CAAC;QACd,OAAO;YACL,CAAA,GAAA,qHAAA,CAAA,QAAK,AAAD,EAAE;gBACJ,OAAO,CAAC,MAAM,EAAE,WAAW,eAAe,cAAc;gBACxD,aAAa,OAAO,KAAK,IAAI;gBAC7B,SAAS;YACX;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BACX,WAAW,4BAA4B;;;;;;0BAE1C,8OAAC;gBAAE,WAAU;0BACV,WACG,8DACA;;;;;;0BAEN,8OAAC,yHAAA,CAAA,OAAI;gBAAE,GAAG,IAAI;0BACZ,cAAA,8OAAC;oBACC,UAAU,KAAK,YAAY,CAAC;oBAC5B,WAAU;;wBAET,OAAO,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,sBAC/B,8OAAC,yHAAA,CAAA,YAAS;gCAER,SAAS,KAAK,OAAO;gCACrB,MAAM;gCACN,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,yHAAA,CAAA,WAAQ;;0DACP,8OAAC,yHAAA,CAAA,YAAS;gDAAC,WAAU;0DAClB,kHAAA,CAAA,cAAW,CAAC,MAAM,IAAI,CAA6B;;;;;;0DAEtD,8OAAC,yHAAA,CAAA,cAAW;0DACT,MAAM,IAAI,KAAK,iCACd,8OAAC,yHAAA,CAAA,UAAU;oDACT,MAAK;oDACL,QAAO;oDACP,aAAY;oDACZ,QAAO;oDACP,SAAQ;oDACR,cAAc,MAAM,QAAQ;;;;;2EAG9B,8OAAC,0HAAA,CAAA,QAAK;oDACJ,QAAQ;oDACR,MACE,kHAAA,CAAA,cAAW,CAAC,MAAM,IAAI,CAA6B;oDAEpD,GAAG,KAAK;oDACT,WAAU;;;;;;;;;;;0DAIhB,8OAAC,yHAAA,CAAA,cAAW;;;;;;;;;;;+BA7BX;;;;;sCAmCT,8OAAC,2HAAA,CAAA,SAAM;4BAAC,MAAK;4BAAS,WAAU;sCAC7B,WAAW,YAAY;;;;;;;;;;;;;;;;;0BAK9B,8OAAC;gBAAE,WAAU;;oBACV,WAAW,qBAAqB;kCAEjC,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAM,WAAW,aAAa;wBAC9B,WAAU;kCAET,WAAW,sBAAsB;;;;;;;;;;;;;;;;;;AAK5C;uCACe"}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/lib/validations.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const signUpSchema = z.object({\n  fullName: z.string().min(3),\n  email: z.string().email(),\n  universityId: z.coerce.number(),\n  universityCard: z.string().nonempty(\"University Card is required\"),\n  password: z.string().min(8),\n});\n\nexport const signInSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n});\n\nexport const bookSchema = z.object({\n  title: z.string().trim().min(2).max(100),\n  description: z.string().trim().min(10).max(1000),\n  author: z.string().trim().min(2).max(100),\n  genre: z.string().trim().min(2).max(50),\n  rating: z.coerce.number().min(1).max(5),\n  totalCopies: z.coerce.number().int().positive().lte(10000),\n  coverUrl: z.string().nonempty(),\n  coverColor: z\n    .string()\n    .trim()\n    .regex(/^#[0-9A-F]{6}$/i),\n  videoUrl: z.string().nonempty(),\n  summary: z.string().trim().min(10),\n});\n"],"names":[],"mappings":";;;;;AAAA;;AAEO,MAAM,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnC,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACzB,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK;IACvB,cAAc,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC,MAAM;IAC7B,gBAAgB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACpC,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC3B;AAEO,MAAM,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnC,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC3B;AAEO,MAAM,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjC,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACpC,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC;IAC3C,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACrC,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACpC,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACrC,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC;IACpD,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,YAAY,oIAAA,CAAA,IAAC,CACV,MAAM,GACN,IAAI,GACJ,KAAK,CAAC;IACT,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,CAAC;AACjC"}},
    {"offset": {"line": 1064, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1070, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/lib/actions/auth.ts"],"sourcesContent":["\"use server\";\n\nimport { eq } from \"drizzle-orm\";\nimport { db } from \"../../database/drizzle\";\nimport { users } from \"../../database/schema\";\nimport { hash } from \"bcryptjs\";\nimport { signIn } from \"../../auth\";\nimport { headers } from \"next/headers\";\nimport ratelimit from \"../../lib/ratelimit\";\nimport { redirect } from \"next/navigation\";\n//import { workflowClient } from \"@/lib/workflow\";\nimport config from \"../../lib/config\";\n\nexport const signInWithCredentials = async (\n  params: Pick<AuthCredentials, \"email\" | \"password\">,\n) => {\n  const { email, password } = params;\n\n  const ip = (await headers()).get(\"x-forwarded-for\") || \"127.0.0.1\";\n  const { success } = await ratelimit.limit(ip);\n\n  if (!success) return redirect(\"/too-fast\");\n\n  try {\n    const result = await signIn(\"credentials\", {\n      email,\n      password,\n      redirect: false,\n    });\n\n    if (result?.error) {\n      return { success: false, error: result.error };\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.log(error, \"Signin error\");\n    return { success: false, error: \"Signin error\" };\n  }\n};\n\nexport const signUp = async (params: AuthCredentials) => {\n  const { fullName, email, universityId, password, universityCard } = params;\n\n  const ip = (await headers()).get(\"x-forwarded-for\") || \"127.0.0.1\";\n  const { success } = await ratelimit.limit(ip);\n\n  if (!success) return redirect(\"/too-fast\");\n\n  const existingUser = await db\n    .select()\n    .from(users)\n    .where(eq(users.email, email))\n    .limit(1);\n\n  if (existingUser.length > 0) {\n    return { success: false, error: \"User already exists\" };\n  }\n\n  const hashedPassword = await hash(password, 10);\n\n  try {\n    await db.insert(users).values({\n      fullName,\n      email,\n      universityId,\n      password: hashedPassword,\n      universityCard,\n    });\n\n    {/**await workflowClient.trigger({\n      url: `${config.env.prodApiEndpoint}/api/workflows/onboarding`,\n      body: {\n        email,\n        fullName,\n      },\n    });*/}\n\n    await signInWithCredentials({ email, password });\n\n    return { success: true };\n  } catch (error) {\n    console.log(error, \"Signup error\");\n    return { success: false, error: \"Signup error\" };\n  }\n};\n"],"names":[],"mappings":";;;;;;IAaa;IA4BA"}},
    {"offset": {"line": 1078, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1084, "column": 0}, "map": {"version":3,"sources":["file:///home/blackmonk/GitHub/etuslib/app/%28auth%29/sign-in/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport AuthForm from \"../../../components/AuthForm\";\nimport { signInSchema } from \"../../../lib/validations\";\nimport { signInWithCredentials } from \"../../../lib/actions/auth\";\n\nconst Page = () => (\n  <AuthForm\n    type=\"SIGN_IN\"\n    schema={signInSchema}\n    defaultValues={{\n      email: \"\",\n      password: \"\",\n    }}\n    onSubmit={signInWithCredentials}\n  />\n);\n\nexport default Page;\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAOA,MAAM,OAAO,kBACX,8OAAC,uHAAA,CAAA,UAAQ;QACP,MAAK;QACL,QAAQ,kHAAA,CAAA,eAAY;QACpB,eAAe;YACb,OAAO;YACP,UAAU;QACZ;QACA,UAAU,sHAAA,CAAA,wBAAqB;;;;;;uCAIpB"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}